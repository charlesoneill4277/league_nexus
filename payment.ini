[payment]
environment = ${PAYMENT_ENV:development}
currency = USD
default_plan = basic_monthly
trial_period_days = 14
tax_percentage = 0.00

[plans]
free = ${PLAN_FREE_ID:plan_free_default}, 0, one_time, "Freemium ad-supported plan with limited features"
basic_monthly = ${PLAN_BASIC_MONTHLY_ID:plan_basic_monthly_default}, 999, month, "Basic monthly subscription"
pro_monthly = ${PLAN_PRO_MONTHLY_ID:plan_pro_monthly_default}, 1999, month, "Pro monthly subscription"
basic_yearly = ${PLAN_BASIC_YEARLY_ID:plan_basic_yearly_default}, 9999, year, "Basic yearly subscription"
pro_yearly = ${PLAN_PRO_YEARLY_ID:plan_pro_yearly_default}, 19999, year, "Pro yearly subscription"

[gateways]
default = stripe

[gateways.stripe]
api_key = ${STRIPE_API_KEY:sk_test_placeholder}
webhook_secret = ${STRIPE_WEBHOOK_SECRET:whsec_placeholder}
client_id = ${STRIPE_CLIENT_ID:ca_placeholder}
api_version = 2020-08-27
timeout_connect = 10
timeout_read = 60
retry_max_attempts = 3
retry_interval_seconds = 30

[gateways.paypal]
mode = ${PAYPAL_MODE:sandbox}
client_id = ${PAYPAL_CLIENT_ID:paypal_client_id}
client_secret = ${PAYPAL_CLIENT_SECRET:paypal_secret}
webhook_id = ${PAYPAL_WEBHOOK_ID:paypal_webhook}
timeout_connect = 10
timeout_read = 60
retry_max_attempts = 3
retry_interval_seconds = 30

[coupons]
; coupon_code = discount_percent, duration[, repeat_count], description
EARLYBIRD = 10, once, "10% off first payment"
SUMMER2024 = 15, once, "15% off summer promotion"
LOYAL20 = 20, repeating, 12, "20% off for first 12 payments"

[features]
ads_enabled_free = true
ads_enabled_premium = false
custom_analytics_enabled_free = false
custom_analytics_enabled_premium = true

[logging]
level = INFO
file = ${LOG_DIR:/var/log}/payment.log
rotation = daily
backup_count = 7